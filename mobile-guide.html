<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>📱 TAAMS Mobile - Guide des Signatures</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #00ff88;
            padding: 20px;
            margin: 0;
            min-height: 100vh;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        .info-box {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #00ff88;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        .warning-box {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid #ffc107;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .success-box {
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid #00ff88;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .error-box {
            background: rgba(255, 71, 87, 0.1);
            border: 1px solid #ff4757;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        .step {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #00ff88;
        }
        .step-title {
            font-weight: bold;
            color: #00ff88;
            margin-bottom: 8px;
        }
        .btn {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: #000;
            border: none;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px 5px;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0, 255, 136, 0.3);
            width: 100%;
        }
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
        }
        h1, h2, h3 {
            text-align: center;
            color: #00ff88;
        }
        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>📱 TAAMS Mobile - Guide des Signatures</h1>
        
        <div class="info-box">
            <h2>🔍 Pourquoi les signatures mobiles sont différentes ?</h2>
            <p>
                Sur <strong>desktop</strong>, MetaMask ouvre des popups pour les signatures.<br>
                Sur <strong>mobile</strong>, MetaMask gère tout dans l'app native, donc c'est moins visible mais <strong>plus sécurisé</strong> !
            </p>
        </div>
        
        <div class="comparison">
            <div class="info-box">
                <h3>💻 Desktop (PC)</h3>
                <ul>
                    <li>✅ Popup visible pour signature</li>
                    <li>✅ Fenêtre séparée MetaMask</li>
                    <li>✅ Confirmation visuelle claire</li>
                    <li>⚠️ Peut être bloqué par navigateur</li>
                </ul>
            </div>
            
            <div class="info-box">
                <h3>📱 Mobile</h3>
                <ul>
                    <li>✅ Intégration native dans l'app</li>
                    <li>✅ Plus sécurisé (pas de popups)</li>
                    <li>✅ Transition fluide vers MetaMask</li>
                    <li>⚠️ Moins de feedback visuel</li>
                </ul>
            </div>
        </div>
        
        <div class="warning-box">
            <h3>⚠️ Comportement Normal sur Mobile</h3>
            <p>
                <strong>C'est NORMAL</strong> que vous ne voyiez pas de popup de signature sur mobile !<br>
                MetaMask mobile gère les signatures de manière transparente dans l'app.
            </p>
        </div>
        
        <h2>📋 Processus Mobile TAAMS</h2>
        
        <div class="step">
            <div class="step-title">🔸 ÉTAPE 1: Connexion Wallet</div>
            <p>Cliquez "CONNECT WALLET" → MetaMask s'ouvre → Sélectionnez votre compte</p>
        </div>
        
        <div class="step">
            <div class="step-title">🔸 ÉTAPE 2: Signature d'Identité (Automatique)</div>
            <p>MetaMask demande une signature pour vérifier votre identité<br>
            <strong>→ Sur mobile, cela se passe dans l'app MetaMask directement</strong></p>
        </div>
        
        <div class="step">
            <div class="step-title">🔸 ÉTAPE 3: Enregistrement Airdrop</div>
            <p>Cliquez "REGISTER" → Nouvelle signature → Transaction blockchain<br>
            <strong>→ MetaMask mobile s'ouvre pour valider la transaction</strong></p>
        </div>
        
        <div class="step">
            <div class="step-title">🔸 ÉTAPE 4: Obtenir du MATIC (si besoin)</div>
            <p>Cliquez "💰 GET MATIC" → Une petite fenêtre s'ouvre dans le terminal<br>
            <strong>→ Tapez sur la fenêtre pour la fermer après avoir choisi une option</strong></p>
        </div>
        
        <div class="success-box">
            <h3>✅ Signes que tout fonctionne bien :</h3>
            <ul>
                <li>🟢 Votre adresse wallet s'affiche</li>
                <li>🟢 Le statut passe à "CONNECTED"</li>
                <li>🟢 MetaMask s'ouvre automatiquement pour les actions</li>
                <li>🟢 Les logs montrent "SIGNATURE CONFIRMED"</li>
                <li>🟢 La fenêtre MATIC s'ouvre dans le terminal (tapez pour fermer)</li>
            </ul>
        </div>
        
        <div class="error-box">
            <h3>❌ Signes de problème :</h3>
            <ul>
                <li>🔴 MetaMask ne s'ouvre jamais</li>
                <li>🔴 Pas d'adresse wallet affichée</li>
                <li>🔴 Messages d'erreur dans les logs</li>
                <li>🔴 Boutons restent grisés</li>
            </ul>
        </div>
        
        <h2>🛠️ Tests et Diagnostic</h2>
        
        <div class="step">
            <div class="step-title">🔸 Test 1: Vérification Mobile</div>
            <button class="btn" onclick="window.location.href='mobile-fix.html'">
                📱 TESTER DÉTECTION MOBILE
            </button>
        </div>
        
        <div class="step">
            <div class="step-title">🔸 Test 2: Connexion Terminal</div>
            <button class="btn" onclick="window.location.href='terminal.html'">
                🎮 TESTER TERMINAL TAAMS
            </button>
        </div>
        
        <div class="step">
            <div class="step-title">🔸 Test 3: Diagnostic Complet</div>
            <button class="btn" onclick="window.location.href='mobile-test.html'">
                🔧 DIAGNOSTIC COMPLET
            </button>
        </div>
        
        <div class="info-box">
            <h3>💡 Conseils pour Mobile</h3>
            <ol>
                <li><strong>Toujours utiliser le navigateur MetaMask</strong> (pas Chrome/Safari)</li>
                <li><strong>Garder MetaMask à jour</strong> (version récente)</li>
                <li><strong>Attendre</strong> que MetaMask s'ouvre pour les signatures</li>
                <li><strong>Ne pas fermer</strong> l'app pendant les transactions</li>
                <li><strong>Vérifier</strong> que vous êtes sur le bon réseau (Polygon)</li>
                <li><strong>📱 MATIC :</strong> La fenêtre s'ouvre dans le terminal, tapez dessus pour fermer</li>
            </ol>
        </div>
        
        <div class="warning-box">
            <h3>🔄 Si ça ne fonctionne toujours pas :</h3>
            <ul>
                <li>1️⃣ Fermez complètement MetaMask mobile</li>
                <li>2️⃣ Rouvrez MetaMask → Navigateur</li>
                <li>3️⃣ Retapez l'URL TAAMS</li>
                <li>4️⃣ Reconnectez votre wallet</li>
                <li>5️⃣ Réessayez l'enregistrement</li>
            </ul>
        </div>
        
        <button class="btn" onclick="history.back()">↩️ RETOUR</button>
    </div>
    
    <script>
        // Détecter si on est sur mobile et afficher des conseils spécifiques
        document.addEventListener('DOMContentLoaded', function() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                console.log('📱 Guide mobile chargé sur appareil mobile');
                
                // Ajouter des conseils spécifiques mobile
                const mobileAdvice = document.createElement('div');
                mobileAdvice.className = 'success-box';
                mobileAdvice.innerHTML = `
                    <h3>📱 Vous êtes sur mobile !</h3>
                    <p>Ce guide est fait pour vous. Suivez les étapes ci-dessus pour une expérience optimale avec TAAMS.</p>
                `;
                
                document.querySelector('.container').insertBefore(mobileAdvice, document.querySelector('h2'));
            } else {
                // Conseils pour desktop
                const desktopAdvice = document.createElement('div');
                desktopAdvice.className = 'info-box';
                desktopAdvice.innerHTML = `
                    <h3>💻 Vous êtes sur desktop !</h3>
                    <p>Ce guide explique les différences mobile. Sur desktop, vous devriez voir les popups MetaMask normalement.</p>
                `;
                
                document.querySelector('.container').insertBefore(desktopAdvice, document.querySelector('h2'));
            }
        });
    </script>
</body>
</html>
